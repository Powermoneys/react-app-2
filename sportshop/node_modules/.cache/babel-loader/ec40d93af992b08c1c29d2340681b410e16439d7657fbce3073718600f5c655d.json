{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\\\u0412\\u0438\\u0442\\u0430\\u043B\\u0438\\u0439\\\\Desktop\\\\course work 3 2\\\\sportshop\\\\src\\\\App.js\";\n// Импортируем React и другие необходимые библиотеки\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter, Route, Switch } from 'react-router-dom';\n\n// Импортируем компоненты для отображения страниц\n\n// Создаем главный компонент приложения\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass App extends React.Component {\n  constructor() {\n    super(...arguments);\n    // Создаем состояние для хранения списка товаров и корзины\n    this.state = {\n      products: [],\n      cart: []\n    };\n    // Добавляем товар в корзину\n    this.addToCart = product => {\n      // Копируем текущее состояние корзины\n      const cart = [...this.state.cart];\n      // Проверяем, есть ли уже такой товар в корзине\n      const index = cart.findIndex(item => item.id === product.id);\n      if (index !== -1) {\n        // Если есть, то увеличиваем его количество на единицу\n        cart[index].quantity++;\n      } else {\n        // Если нет, то добавляем его в корзину с количеством равным единице\n        cart.push({\n          ...product,\n          quantity: 1\n        });\n      }\n      // Обновляем состояние корзины\n      this.setState({\n        cart\n      });\n    };\n    // Удаляем товар из корзины\n    this.removeFromCart = product => {\n      // Копируем текущее состояние корзины\n      const cart = [...this.state.cart];\n      // Находим индекс товара в корзине\n      const index = cart.findIndex(item => item.id === product.id);\n      if (index !== -1) {\n        // Если есть, то уменьшаем его количество на единицу\n        cart[index].quantity--;\n        // Если количество стало равно нулю, то удаляем товар из корзины\n        if (cart[index].quantity === 0) {\n          cart.splice(index, 1);\n        }\n        // Обновляем состояние корзины\n        this.setState({\n          cart\n        });\n      }\n    };\n    // Очищаем корзину\n    this.clearCart = () => {\n      this.setState({\n        cart: []\n      });\n    };\n    // Отправляем заказ на сервер\n    this.placeOrder = order => {\n      fetch('/api/orders', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(order)\n      }).then(response => response.json()).then(data => {\n        // Если заказ успешно обработан, то очищаем корзину и перенаправляем пользователя на страницу подтверждения заказа\n        if (data.success) {\n          this.clearCart();\n          this.props.history.push(`/order/${data.orderId}`);\n        } else {\n          // Если произошла ошибка, то выводим сообщение об ошибке\n          alert(data.message);\n        }\n      });\n    };\n  }\n  // Загружаем список товаров с сервера при монтировании компонента\n  componentDidMount() {\n    fetch('/api/products').then(response => response.json()).then(data => this.setState({\n      products: data\n    }));\n  }\n  // Рендерим компонент\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"app\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"\\u0418\\u043D\\u0442\\u0435\\u0440\\u043D\\u0435\\u0442-\\u043C\\u0430\\u0433\\u0430\\u0437\\u0438\\u043D \\u0441\\u043F\\u043E\\u0440\\u0442\\u0438\\u0432\\u043D\\u044B\\u0445 \\u0442\\u043E\\u0432\\u0430\\u0440\\u043E\\u0432\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Switch, {\n        children: [/*#__PURE__*/_jsxDEV(Route, {\n          exact: true,\n          path: \"/\",\n          component: Home\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          exact: true,\n          path: \"/products\",\n          render: () => /*#__PURE__*/_jsxDEV(Products, {\n            products: this.state.products,\n            addToCart: this.addToCart\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 55\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/products/:id\",\n          render: props => /*#__PURE__*/_jsxDEV(ProductDetails, {\n            ...props,\n            products: this.state.products,\n            addToCart: this.addToCart\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 56\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          exact: true,\n          path: \"/cart\",\n          render: () => /*#__PURE__*/_jsxDEV(Cart, {\n            cart: this.state.cart,\n            removeFromCart: this.removeFromCart,\n            clearCart: this.clearCart\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 51\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          exact: true,\n          path: \"/checkout\",\n          render: () => /*#__PURE__*/_jsxDEV(Checkout, {\n            cart: this.state.cart,\n            placeOrder: this.placeOrder\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 55\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/order/:id\",\n          component: OrderConfirmation\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }, this);\n  }\n}\n\n// Рендерим приложение в элемент с id=\"root\"\nReactDOM.render( /*#__PURE__*/_jsxDEV(BrowserRouter, {\n  children: /*#__PURE__*/_jsxDEV(App, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 107,\n    columnNumber: 5\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 106,\n  columnNumber: 3\n}, this), document.getElementById('root'));","map":{"version":3,"names":["React","ReactDOM","BrowserRouter","Route","Switch","jsxDEV","_jsxDEV","App","Component","constructor","arguments","state","products","cart","addToCart","product","index","findIndex","item","id","quantity","push","setState","removeFromCart","splice","clearCart","placeOrder","order","fetch","method","headers","body","JSON","stringify","then","response","json","data","success","props","history","orderId","alert","message","componentDidMount","render","className","children","fileName","_jsxFileName","lineNumber","columnNumber","exact","path","component","Home","Products","ProductDetails","Cart","Checkout","OrderConfirmation","document","getElementById"],"sources":["C:/Users/Виталий/Desktop/course work 3 2/sportshop/src/App.js"],"sourcesContent":["// Импортируем React и другие необходимые библиотеки\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter, Route, Switch } from 'react-router-dom';\n\n// Импортируем компоненты для отображения страниц\n\n\n// Создаем главный компонент приложения\nclass App extends React.Component {\n  // Создаем состояние для хранения списка товаров и корзины\n  state = {\n    products: [],\n    cart: []\n  };\n\n  // Загружаем список товаров с сервера при монтировании компонента\n  componentDidMount() {\n    fetch('/api/products')\n      .then(response => response.json())\n      .then(data => this.setState({ products: data }));\n  }\n\n  // Добавляем товар в корзину\n  addToCart = product => {\n    // Копируем текущее состояние корзины\n    const cart = [...this.state.cart];\n    // Проверяем, есть ли уже такой товар в корзине\n    const index = cart.findIndex(item => item.id === product.id);\n    if (index !== -1) {\n      // Если есть, то увеличиваем его количество на единицу\n      cart[index].quantity++;\n    } else {\n      // Если нет, то добавляем его в корзину с количеством равным единице\n      cart.push({ ...product, quantity: 1 });\n    }\n    // Обновляем состояние корзины\n    this.setState({ cart });\n  };\n\n  // Удаляем товар из корзины\n  removeFromCart = product => {\n    // Копируем текущее состояние корзины\n    const cart = [...this.state.cart];\n    // Находим индекс товара в корзине\n    const index = cart.findIndex(item => item.id === product.id);\n    if (index !== -1) {\n      // Если есть, то уменьшаем его количество на единицу\n      cart[index].quantity--;\n      // Если количество стало равно нулю, то удаляем товар из корзины\n      if (cart[index].quantity === 0) {\n        cart.splice(index, 1);\n      }\n      // Обновляем состояние корзины\n      this.setState({ cart });\n    }\n  };\n\n  // Очищаем корзину\n  clearCart = () => {\n    this.setState({ cart: [] });\n  };\n\n  // Отправляем заказ на сервер\n  placeOrder = order => {\n    fetch('/api/orders', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(order)\n    })\n      .then(response => response.json())\n      .then(data => {\n        // Если заказ успешно обработан, то очищаем корзину и перенаправляем пользователя на страницу подтверждения заказа\n        if (data.success) {\n          this.clearCart();\n          this.props.history.push(`/order/${data.orderId}`);\n        } else {\n          // Если произошла ошибка, то выводим сообщение об ошибке\n          alert(data.message);\n        }\n      });\n  };\n\n  // Рендерим компонент\n  render() {\n    return (\n      <div className=\"app\">\n        <h1>Интернет-магазин спортивных товаров</h1>\n        <Switch>\n          <Route exact path=\"/\" component={Home} />\n          <Route exact path=\"/products\" render={() => <Products products={this.state.products} addToCart={this.addToCart} />} />\n          <Route path=\"/products/:id\" render={props => <ProductDetails {...props} products={this.state.products} addToCart={this.addToCart} />} />\n          <Route exact path=\"/cart\" render={() => <Cart cart={this.state.cart} removeFromCart={this.removeFromCart} clearCart={this.clearCart} />} />\n          <Route exact path=\"/checkout\" render={() => <Checkout cart={this.state.cart} placeOrder={this.placeOrder} />} />\n          <Route path=\"/order/:id\" component={OrderConfirmation} />\n        </Switch>\n      </div>\n    );\n  }\n}\n\n// Рендерим приложение в элемент с id=\"root\"\nReactDOM.render(\n  <BrowserRouter>\n    <App />\n  </BrowserRouter>,\n  document.getElementById('root')\n);"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}